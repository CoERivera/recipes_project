<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='/css/add.css') }}">
    <title>Recipe Share</title>
</head>

<body>
    <h1><strong>Edit Recipe!</strong></h1><br>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="navbar-brand"></div>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
            </ul>
            <span class="navbar-text">
                <a href="/dashboard">Back to recipes</a>
                <a href="/logout">Log Out</a>
            </span>
        </div>
    </nav>
    <div class="entry">
        <div class="left-half">
            <form action='/recipes/update/{{recipe.id}}' method="post" id="recipe_form">
                <div class="form-group">
                    <label for="exampleFormControlInput1">Name:</label>
                    <input name="name" type="text" class="form-control" value="{{recipe.name}}" id="exampleFormControlInput1"
                        placeholder="Enter your recipe name" value="">
                    {% with errors = get_flashed_messages(category_filter=["name"]) %}
                    {% if errors %}
                    {% for msg in errors %}
                    <p class="error">{{ msg }}</p>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}
                    <label for="exampleFormControlInput2">Description:</label>
                    <textarea class="form-control" rows="4" cols="47" name="description"
                        placeholder="Enter recipe description" form="recipe_form">{{ recipe.description }}</textarea>
                    {% with errors = get_flashed_messages(category_filter=["description"]) %}
                    {% if errors %}
                    {% for msg in errors %}
                    <p class="error">{{ msg }}</p>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}
                    <label for="exampleFormControlInput2">Instructions:</label>
                    <textarea class="form-control" rows="6" cols="47" name="instructions"
                        placeholder="Enter recipe instructions" form="recipe_form">{{ recipe.instructions }}</textarea>
                    {% with errors = get_flashed_messages(category_filter=["instructions"]) %}
                    {% if errors %}
                    {% for msg in errors %}
                    <p class="error">{{ msg }}</p>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}
                </div>
        </div>
        <div class="right-half">
            <div class="form-group">
                <label for="exampleFormControlInput3">Date Cooked/Made:</label>
                <input name="date_made" type="date" class="form-control" value="{{recipe.date_made}}" id="exampleFormControlInput3">
                {% with errors = get_flashed_messages(category_filter=["date_made"]) %}
                {% if errors %}
                {% for msg in errors %}
                <p class="error">{{ msg }}</p>
                {% endfor %}
                {% endif %}
                {% endwith %}
                <label for="exampleFormControlInput4">Under 30 minutes?</label>
                {% if recipe.under_thirty == 1 %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="under_thirty" id="flexRadioDefault1" checked
                        value="Yes">
                    <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="under_thirty" id="flexRadioDefault2" value="No">
                    <label class="form-check-label" for="flexRadioDefault2">
                        No
                    </label>
                </div>
                {% else %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="under_thirty" id="flexRadioDefault1"
                        value="Yes">
                    <label class="form-check-label" for="flexRadioDefault1">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="under_thirty" id="flexRadioDefault2" checked value="No">
                    <label class="form-check-label" for="flexRadioDefault2">
                        No
                    </label>
                </div>
                {% endif %}
                {% with errors = get_flashed_messages(category_filter=["under_thirty"]) %}
                {% if errors %}
                {% for msg in errors %}
                <p class="error">{{ msg }}</p>
                {% endfor %}
                {% endif %}
                {% endwith %}
            </div>
            <input class="btn btn-outline-primary" type="submit" value="Update Recipe">
            </form>
            {% with errors = get_flashed_messages(category_filter=["recipe"]) %}
            {% if errors %}
            {% for msg in errors %}
            <p class="error">{{ msg }}</p>
            {% endfor %}
            {% endif %}
            {% endwith %}
        </div>

    </div>
</body>

</html>